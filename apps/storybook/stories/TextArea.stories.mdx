import { Subhead, Box, VStack, TextArea, Message } from "spirokit"
import { Source, ArgsTable, Meta, Story, Canvas } from "@storybook/addon-docs"
import { MailIcon } from "react-native-heroicons/outline"
import dedent from "ts-dedent"
import { spaceArgTypes, SpaceArgTypesComments } from "./arg-types/StyleProps"

<Meta 
  title="Components/Text area"  
	parameters={{
		viewMode: 'docs',
		previewTabs: { 
			canvas: { hidden: true } 
		},
	}}
/>

# Text area

---

---

## Basic example

<Canvas withSource="open">
	<Story 
    	name="Basic example"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { Subhead, VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<VStack space={1}>
									<TextArea 
										placeholder="Enter your question..."
										LabelComponent={<Subhead>Questions?</Subhead>}>
									</TextArea>
									<Message type="info">Help text</Message>
								</VStack>
							)
						}
					`
				}
			}
		}}>
		<VStack space={1} width={375}>
			<TextArea 
				placeholder="Enter your question..."
				LabelComponent={<Subhead>Questions?</Subhead>}>
			</TextArea>
			<Message type="info">Help text</Message>
		</VStack>
	</Story>
</Canvas>

## With Label

<Canvas withSource="open">
	<Story 
		name="With label"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { Subhead, VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<VStack space={1}>
									<TextArea LabelComponent={<Subhead>Questions?</Subhead>}></TextArea>
									<Message>Help text</Message>
								</VStack>
							)
						}
					`
				}
			}
	}}>
	{() => {
		return (
			<VStack space={1} width={375}>
				<TextArea LabelComponent={<Subhead>Questions?</Subhead>}></TextArea>
				<Message>Help text</Message>
			</VStack>
		)
	}}
	</Story>
</Canvas>

## With icons

<Canvas withSource="open">
	<Story 
		name="Icon left"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<>
									{/* Icon left */}
									<VStack space={1}>
										<TextArea IconLeftComponent={MailIcon}></TextArea>
										<Message>Help text</Message>
									</VStack>
					`
				}
			}
	}}>
	{() => {
			return (
			<VStack space={1} width={375}>
				<TextArea IconLeftComponent={MailIcon}></TextArea>
				<Message>Help text</Message>
			</VStack>
		)
	}}
	</Story>
	<Story 
		name="Icon right"
		parameters={{
			docs: {
				source: {
					code: dedent`
									{/* Icon right */}
									<VStack space={1}>
										<TextArea IconRightComponent={MailIcon}></TextArea>
										<Message>Help text</Message>
									</VStack>
								</>
							)
						}
					`
				}
			}
	}}>
	{() => {
			return (
			<VStack space={1} width={375}>
				<TextArea IconRightComponent={MailIcon}></TextArea>
				<Message>Help text</Message>
			</VStack>
		)
	}}
	</Story>
</Canvas>

## With initial value

<Canvas withSource="open">
	<Story 
		name="With value"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<VStack space={1}>
									<TextArea value="Lorem Ipsum"></TextArea>
									<Message>Help text</Message>
								</VStack>
							)
						}
					`
				}
			}
	}}>
	{() => {
		return (
			<VStack space={1} width={375}>
				<TextArea value="Lorem Ipsum"></TextArea>
				<Message>Help text</Message>
			</VStack>
		)
	}}
	</Story>
</Canvas>

## Disabled

<Canvas withSource="open">
	<Story 
		name="Disabled"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { VStack, TextArea } from "@spirokit/core"
						
						const App = () => {
							return (
								<TextArea isDisabled={true}></TextArea>
							)
						}
					`
				}
			}
	}}>
	{() => {
		return (
			<VStack space={1} width={375}>
				<TextArea isDisabled={true}></TextArea>
			</VStack>
		)
	}}
	</Story>
</Canvas>

## With validation errors

<Canvas withSource="open">
  <Story 
    name="With validation errors"
    parameters={{
			docs: {
				source: {
					code: dedent`
						import { VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<VStack space={1}>
									<TextArea error></TextArea>
									<Message type="error">Something went wrong</Message>
								</VStack>
							)
						}
					`
				}
			}
		}}>
		<VStack space={1} width={375}>
			<TextArea error></TextArea>
			<Message type="error">Something went wrong</Message>
		</VStack>
	</Story>
</Canvas>

## Success

<Canvas withSource="open">
	<Story 
		name="Success"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<VStack space={1}>
									<TextArea success></TextArea>
									<Message type="success">All it's OK!</Message>
								</VStack>
							)
						}
					`
				}
			}
		}}>
		<VStack space={1} width={375}>
			<TextArea success></TextArea>
			<Message type="success">All it's OK!</Message>
		</VStack>
	</Story>
</Canvas>

## Overriding the accent color

You can optionally override the accent color for this specific component. You can choose between `blue`, `orange`, `rose`, `amber`, `indigo`, `emerald`, `red`. 

By default, the component will use the globally active accent color, defined by the theme.

<Canvas withSource="open">
	<Story 
		name="Accent color override"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<VStack space={1}>
									<TextArea 
										placeholder="Type a message..." 
										accentColor="orange">
									</TextArea>
									<Message>Help text</Message>
								</VStack>
							)
						}
					`
				}
			}
		}}>
		<VStack space={1} width={375}>
			<TextArea 
				placeholder="Type a message..." 
				accentColor="orange">
			</TextArea>
			<Message>Help text</Message>	
		</VStack>
	</Story>
</Canvas>

## Overriding the global color mode

You can optionally override the color mode for this specific component. You can choose between `light` and `dark`. 

By default, the component will use the globally active color mode.

<Canvas withSource="open">
	<Story 
		name="Color mode override"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<VStack space={1}>
									<TextArea 
										placeholder="Type a message..." 
										colorMode="light">
									</TextArea>
									<Message colorMode="light">Help text</Message>
								</VStack>
							)
						}
					`
				}
			}
		}}>
		<VStack space={1} width={375} p={4} bg="white">
			<TextArea 
				placeholder="Type a message..." 
				colorMode="light">
			</TextArea>
			<Message colorMode="light">Help text</Message>
		</VStack>
	</Story>
</Canvas>

## Overriding color mode and accent color

Both `colorMode` and `accentColor` can be overriten at the same time

<Canvas withSource="open">
	<Story 
		name="Accent color + Color mode override override"
		parameters={{
			docs: {
				source: {
					code: dedent`
						import { VStack, TextArea, Message } from "@spirokit/core"
						
						const App = () => {
							return (
								<VStack space={1}>
									<TextArea 
										placeholder="Type a message..." 
										colorMode="light"
										IconRightComponent={MailIcon}
										accentColor="emerald">
									</TextArea>
									<Message colorMode="light">Help text</Message>
								</VStack>
							)
						}
					`
				}
			}
		}}>
		<VStack space={1} width={375} p={4} bg="white">
			<TextArea 
				placeholder="Type a message..." 
				colorMode="light"
				IconRightComponent={MailIcon}
				accentColor="emerald">
			</TextArea>
			<Message colorMode="light">Help text</Message>
		</VStack>
	</Story>
</Canvas>

## Arguments table

<Story 
	name="Arguments Table"
	args={{
		value: undefined,
		placeholder: "Enter your question...",
		required: false,
		error: false,
		success: false,
		LabelComponent: "Questions?",
		IconLeftComponent: undefined,
		IconRightComponent: undefined,
		colorMode: undefined,
		accentColor: undefined
	}}
	argTypes={{
		IconLeftComponent: {
			description: "**Optional**\n\nComponent for the left icon",
			table: {
				type: {
					summary: "(props: SvgProps) => JSX.Element"
				}
			},
			control: { disable: true }
		},
		IconRightComponent: {
			description: "**Optional**\n\nComponent for the left icon",
			table: {
				type: {
					summary: "(props: SvgProps) => JSX.Element"
				}
			},
			control: { disable: true }
		},
		required: {
			description:
				"**Optional**\n\nIf `true`, the text text area label will include a red asterisk to let the user know that the text area is required. The default value is `false`",
			type: { name: "boolean", required: false },
			defaultValue: {
				summary: false
			}
		},
		error: {
			description:
				"**Optional**\n\nIf `true`, the text text area will include a red warning icon to let the user know that the text area is not valid or something went wrong. The default value is `false`",
			type: { name: "boolean", required: false },
			defaultValue: {
				summary: false
			}
		},
		success: {
			description:
				"**Optional**\n\nIf `true`, the text text area will include a green success icon to let the user know that the text area is valid or to provide feedback about something that happened. The default value is `false`",
			type: { name: "boolean", required: false },
			defaultValue: {
				summary: false
			}
		},
		LabelComponent: {
			description: "**Optional**\n\nComponent for the label",
			table: {
				type: {
					summary: "React.ReactComponentElement<typeof Subhead>"
				}
			},
			control: { type: "text" }
		},
		ref: {
			description: "**Optional**\n\nComponent ref",
			table: {
				type: {
					summary: "RefObject<Input>"
				}
			},
			control: { disable: true }
		},
		colorMode: {
			options: ["light", "dark"],
			description:
				"**Optional**\n\nAllows you to override the global color mode to apply a specific color mode for the component",
			table: {
				type: {
					summary: "ColorMode"
				}
			},
			control: { type: "radio" }
		},
		accentColor: {
			options: ["blue", "orange", "rose", "amber", "indigo", "emerald", "red"],
			description: "**Optional**\n\nAllows you to override the accent color to apply a specific accent for this component",
			table: {
				type: {
					summary: "AccentColor"
				}
			},
			control: { type: "radio" }
		},
		isDisabled: {
			description: "**Optional**\n\nIf `true`, the text area will be disabled. The default value is `false`",
			type: { name: "boolean", required: false },
			defaultValue: {
				summary: false
			},
			table: {
				type: {
					summary: "boolean"
				}
			}
		},
		placeholder: {
			description: "**Optional**\n\nPlaceholder for the text area component",
			defaultValue: {
				summary: "Search..."
			},
			table: {
				type: {
					summary: "string"
				}
			}
		},
		onChangeText: {
			description: "**Optional**\n\nTriggered every time the text area value change",
			table: {
				type: {
					summary: "(value: string) => void"
				}
			}
		},
		onFocus: {
			description: "**Optional**\n\nTriggered when the text area is focused",
			table: {
				type: {
					summary: "(event: NativeSyntheticEvent<TextInputFocusEventData>) => void"
				}
			}
		},
		onBlur: {
			description: "**Optional**\n\nTriggered every time the user leaves the text area",
			table: {
				type: {
					summary: "(event: NativeSyntheticEvent<TextInputFocusEventData>) => void"
				}
			}
		},
		accessibilityLabel: {
			description: "**Optional**\n\nAccessibility prop so people who use VoiceOver know what element they have selected. Voice over will read this string",
			table: {
				type: {
					summary: "string"
				}
			}
		},
		value: {
			description: "**Optional**\n\nvalue for the text area component.",
			table: {
				type: {
					summary: "string"
				}
			}
		}
	}}>
</Story>

<ArgsTable story="Arguments Table" />

## Style props

<Story
	name="Style props"
	argTypes={spaceArgTypes}>
	<Box marginX="-4">
		<ArgsTable story="Style props"/>
		<SpaceArgTypesComments componentName="TextArea"/>
	</Box>
</Story>